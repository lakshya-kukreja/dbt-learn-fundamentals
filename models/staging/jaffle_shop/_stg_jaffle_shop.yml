# this script is to perform test on models
models:
  - name: stg_jaffle_shop__customers
    columns:
      - name: customer_id  # because we are perfromig test on customer_id
        description: primary key for the customers table
        data_tests:
          - unique
          - not_null
          
  - name: stg_jaffle_shop__orders
    description: This model represents the orders placed by customers in the Jaffle Shop. It includes details about each order, such as the order date, the customer who placed the order, and the current status of the order. This model is essential for tracking order history and status updates.
    columns:
      - name: order_id  # because we are perfromig test on customer_id
        description: A unique identifier for each order placed in the Jaffle Shop.
        data_tests:
          - unique
          - not_null
      - name: status
        description: "{{doc('order_status')}}"
        data_tests:
          - accepted_values:
              arguments:  # This is the new required field for v2.0
                values: ['completed', 'placed', 'return_pending', 'returned', 'shipped']
      - name: customer_id
        description: The identifier for the customer who placed the order, linking to the customers table.
        data_tests:
          - relationships:
              arguments:
                field: customer_id
                to: ref('stg_jaffle_shop__customers')
      - name: order_date
        description: The date on which the order was placed.